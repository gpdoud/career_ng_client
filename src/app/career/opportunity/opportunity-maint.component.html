<div>
    <header></header>
    
    <app-menu></app-menu>
    
    <app-page-title [pageTitle]="pageTitle">
    </app-page-title>

    <main>
        <form>
            <table class="table table-striped table-sm" *ngIf="opportunity">
                <tbody>
                    <tr>
                        <td>Id:</td>
                        <td><input [ngModel]="opportunity.id" name="id" readonly ></td>
                    </tr>
                    <tr>
                        <td>Description:</td>
                        <td><input [(ngModel)]="opportunity.description" name="description" [disabled]="readonly"></td>
                    </tr>
                    <tr>
                        <td>Company:</td>
                        <td *ngIf="!readonly">
                            <select [(ngModel)]="opportunity.companyId" name="company" [disabled]="readonly">
                                <option *ngFor="let c of companies" value="{{ c.id }}">{{ c.name }}</option>
                            </select> 
                        </td>
                        <td *ngIf="readonly">
                            <input [ngModel]="opportunity.company?.name" name="company" [disabled]="readonly">
                        </td>
                    </tr>
                    <tr>
                        <td>Rank:</td>
                        <td>
                            <select [(ngModel)]="opportunity.rank" [disabled]="readonly"  name="rank">
                                <option value="A">A-Best</option>
                                <option value="B">B-Better</option>
                                <option selected value="C">C-Good</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>Connection:</td>
                        <td *ngIf="!readonly">
                            <select [(ngModel)]="opportunity.companyConnectionId"  [disabled]="readonly" name="connection">
                                <option *ngFor="let cc of companyConnections" value="{{ cc.id }}">{{ cc.connection}}</option>
                            </select>
                        </td>
                        <td *ngIf="readonly">
                            <input [ngModel]="opportunity.companyConnection?.connection" [disabled]="readonly" name="connection1">
                        </td>
                    </tr>
                    <tr>
                        <td>Notes:</td>
                        <td><textarea [(ngModel)]="opportunity.notes" rows="8" cols="70" name="notes" [disabled]="readonly"></textarea>
                        </td>
                    </tr>
                    <tr>
                        <td>Active:</td>
                        <td><input [(ngModel)]="opportunity.active" type="checkbox" name="active" [disabled]="readonly"></td>
                    </tr>
                    <tr *ngIf="!readonly">
                        <td colspan="2">
                            <button (click)="save()" class="btn btn-primary">Save</button>
                        </td>
                    </tr>
                    <tr *ngIf="readonly">
                        <td colspan="2">
                            <a routerLink="/opportunity/change/{{ opportunity.id }}" class="btn btn-warning">Edit</a>
                            <span> | </span>
                            <a (click)="toggleVerifyDelete()" class="btn btn-danger">Delete</a>
                            <span *ngIf="verifyDelete">
                                <span> | </span>
                                <a (click)="remove()" class="btn btn-danger">VerifyDelete</a>
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </main>

    <footer>
        <span>Career Management System (CMS)</span>
    </footer>
</div>
